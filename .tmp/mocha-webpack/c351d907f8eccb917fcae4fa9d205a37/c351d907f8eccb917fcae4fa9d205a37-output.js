/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 12);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var cov_21zsgt0ib2=function(){var path="/home/razorpack/develop/simple-chat/src/app/simple-chat.service.ts",hash="3ad368effad305cc74c6bb9bd7e2edc06c5c03a9",global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/razorpack/develop/simple-chat/src/app/simple-chat.service.ts",statementMap:{"0":{start:{line:2,column:17},end:{line:7,column:1}},"1":{start:{line:3,column:12},end:{line:3,column:28}},"2":{start:{line:3,column:34},end:{line:3,column:125}},"3":{start:{line:4,column:4},end:{line:5,column:150}},"4":{start:{line:4,column:79},end:{line:4,column:131}},"5":{start:{line:5,column:9},end:{line:5,column:150}},"6":{start:{line:5,column:58},end:{line:5,column:150}},"7":{start:{line:5,column:81},end:{line:5,column:150}},"8":{start:{line:6,column:4},end:{line:6,column:66}},"9":{start:{line:8,column:17},end:{line:10,column:1}},"10":{start:{line:9,column:4},end:{line:9,column:109}},"11":{start:{line:9,column:79},end:{line:9,column:109}},"12":{start:{line:11,column:0},end:{line:11,column:62}},"13":{start:{line:12,column:13},end:{line:12,column:37}},"14":{start:{line:13,column:21},end:{line:13,column:44}},"15":{start:{line:14,column:0},end:{line:14,column:19}},"16":{start:{line:15,column:0},end:{line:15,column:33}},"17":{start:{line:16,column:19},end:{line:39,column:3}},"18":{start:{line:18,column:8},end:{line:18,column:29}},"19":{start:{line:20,column:4},end:{line:30,column:6}},"20":{start:{line:21,column:8},end:{line:29,column:11}},"21":{start:{line:24,column:26},end:{line:27,column:13}},"22":{start:{line:28,column:12},end:{line:28,column:27}},"23":{start:{line:31,column:4},end:{line:33,column:6}},"24":{start:{line:32,column:8},end:{line:32,column:45}},"25":{start:{line:34,column:4},end:{line:37,column:20}},"26":{start:{line:38,column:4},end:{line:38,column:23}},"27":{start:{line:40,column:0},end:{line:40,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:46},end:{line:2,column:47}},loc:{start:{line:2,column:87},end:{line:7,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:46},end:{line:8,column:47}},loc:{start:{line:8,column:62},end:{line:10,column:1}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:19},end:{line:16,column:20}},loc:{start:{line:16,column:31},end:{line:39,column:1}},line:16},"3":{name:"ChatService",decl:{start:{line:17,column:13},end:{line:17,column:24}},loc:{start:{line:17,column:33},end:{line:19,column:5}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:20,column:40},end:{line:20,column:41}},loc:{start:{line:20,column:52},end:{line:30,column:5}},line:20},"5":{name:"(anonymous_5)",decl:{start:{line:23,column:17},end:{line:23,column:18}},loc:{start:{line:23,column:33},end:{line:29,column:9}},line:23},"6":{name:"(anonymous_6)",decl:{start:{line:31,column:40},end:{line:31,column:41}},loc:{start:{line:31,column:59},end:{line:33,column:5}},line:31}},branchMap:{"0":{loc:{start:{line:2,column:17},end:{line:7,column:1}},type:"binary-expr",locations:[{start:{line:2,column:18},end:{line:2,column:22}},{start:{line:2,column:26},end:{line:2,column:41}},{start:{line:2,column:46},end:{line:7,column:1}}],line:2},"1":{loc:{start:{line:3,column:34},end:{line:3,column:125}},type:"cond-expr",locations:[{start:{line:3,column:42},end:{line:3,column:48}},{start:{line:3,column:51},end:{line:3,column:125}}],line:3},"2":{loc:{start:{line:3,column:51},end:{line:3,column:125}},type:"cond-expr",locations:[{start:{line:3,column:67},end:{line:3,column:118}},{start:{line:3,column:121},end:{line:3,column:125}}],line:3},"3":{loc:{start:{line:4,column:4},end:{line:5,column:150}},type:"if",locations:[{start:{line:4,column:4},end:{line:5,column:150}},{start:{line:4,column:4},end:{line:5,column:150}}],line:4},"4":{loc:{start:{line:4,column:8},end:{line:4,column:77}},type:"binary-expr",locations:[{start:{line:4,column:8},end:{line:4,column:35}},{start:{line:4,column:39},end:{line:4,column:77}}],line:4},"5":{loc:{start:{line:5,column:58},end:{line:5,column:150}},type:"if",locations:[{start:{line:5,column:58},end:{line:5,column:150}},{start:{line:5,column:58},end:{line:5,column:150}}],line:5},"6":{loc:{start:{line:5,column:85},end:{line:5,column:149}},type:"binary-expr",locations:[{start:{line:5,column:86},end:{line:5,column:143}},{start:{line:5,column:148},end:{line:5,column:149}}],line:5},"7":{loc:{start:{line:5,column:86},end:{line:5,column:143}},type:"cond-expr",locations:[{start:{line:5,column:94},end:{line:5,column:98}},{start:{line:5,column:101},end:{line:5,column:143}}],line:5},"8":{loc:{start:{line:5,column:101},end:{line:5,column:143}},type:"cond-expr",locations:[{start:{line:5,column:109},end:{line:5,column:126}},{start:{line:5,column:129},end:{line:5,column:143}}],line:5},"9":{loc:{start:{line:6,column:11},end:{line:6,column:62}},type:"binary-expr",locations:[{start:{line:6,column:11},end:{line:6,column:16}},{start:{line:6,column:20},end:{line:6,column:21}},{start:{line:6,column:25},end:{line:6,column:62}}],line:6},"10":{loc:{start:{line:8,column:17},end:{line:10,column:1}},type:"binary-expr",locations:[{start:{line:8,column:18},end:{line:8,column:22}},{start:{line:8,column:26},end:{line:8,column:41}},{start:{line:8,column:46},end:{line:10,column:1}}],line:8},"11":{loc:{start:{line:9,column:4},end:{line:9,column:109}},type:"if",locations:[{start:{line:9,column:4},end:{line:9,column:109}},{start:{line:9,column:4},end:{line:9,column:109}}],line:9},"12":{loc:{start:{line:9,column:8},end:{line:9,column:77}},type:"binary-expr",locations:[{start:{line:9,column:8},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:77}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0,0],"11":[0,0],"12":[0,0]},inputSourceMap:{version:3,file:"/home/razorpack/develop/simple-chat/src/app/simple-chat.service.ts",sourceRoot:"/home/razorpack/develop/simple-chat/",sources:["node_modules/angular2-template-loader/index.js!/home/razorpack/develop/simple-chat/src/app/simple-chat.service.ts"],names:[],mappings:";;;;;;;;;;;AAAA,sCAA2C;AAC3C,6CAAsC;AACtC,mBAAiB;AAGjB,iCAA+B;AAG/B;IACE,qBAAoB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEtC,iCAAW,GAAX;QACE,MAAM,CAAC,IAAI,CAAC,MAAM;aACf,SAAS,CAAC,SAAS,CAAC;aACpB,GAAG,CAAC,UAAC,IAAiC;YACrC,IAAM,OAAO,GAAiC;gBAC5C,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,IAAI,CAAC,GAAG;aACf,CAAC;YACF,MAAM,CAAC,OAAO,CAAA;QAChB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAW,GAAX,UAAY,OAAqC;QAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACvC,CAAC;IAjBU,WAAW;QADvB,iBAAU,EAAE;yCAEiB,qBAAM;OADvB,WAAW,CAkBvB;IAAD,kBAAC;CAAA,AAlBD,IAkBC;AAlBY,kCAAW",sourcesContent:["import { Injectable } from '@angular/core';\nimport { Socket } from 'ng-socket-io';\nimport 'rxjs/Rx';\n\nimport { Observable } from 'rxjs/Observable'\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ChatService {\n  constructor(private socket: Socket) {}\n\n  getMessages(){\n    return this.socket\n      .fromEvent('message')\n      .map((data: {user: string, msg: string}) => {\n        const message: {user: string, text: string} = {\n          user: data.user,\n          text: data.msg\n        };\n        return message\n      });\n  }\n\n  sendMessage(message: {user: string, text: string}) {\n    this.socket.emit('message', message);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var __decorate=(cov_21zsgt0ib2.s[0]++,(cov_21zsgt0ib2.b[0][0]++,this)&&(cov_21zsgt0ib2.b[0][1]++,this.__decorate)||(cov_21zsgt0ib2.b[0][2]++,function(decorators,target,key,desc){cov_21zsgt0ib2.f[0]++;var c=(cov_21zsgt0ib2.s[1]++,arguments.length),r=(cov_21zsgt0ib2.s[2]++,c<3?(cov_21zsgt0ib2.b[1][0]++,target):(cov_21zsgt0ib2.b[1][1]++,desc===null?(cov_21zsgt0ib2.b[2][0]++,desc=Object.getOwnPropertyDescriptor(target,key)):(cov_21zsgt0ib2.b[2][1]++,desc))),d;cov_21zsgt0ib2.s[3]++;if((cov_21zsgt0ib2.b[4][0]++,typeof Reflect==="object")&&(cov_21zsgt0ib2.b[4][1]++,typeof Reflect.decorate==="function")){cov_21zsgt0ib2.b[3][0]++;cov_21zsgt0ib2.s[4]++;r=Reflect.decorate(decorators,target,key,desc);}else{cov_21zsgt0ib2.b[3][1]++;cov_21zsgt0ib2.s[5]++;for(var i=decorators.length-1;i>=0;i--){cov_21zsgt0ib2.s[6]++;if(d=decorators[i]){cov_21zsgt0ib2.b[5][0]++;cov_21zsgt0ib2.s[7]++;r=(cov_21zsgt0ib2.b[6][0]++,c<3?(cov_21zsgt0ib2.b[7][0]++,d(r)):(cov_21zsgt0ib2.b[7][1]++,c>3?(cov_21zsgt0ib2.b[8][0]++,d(target,key,r)):(cov_21zsgt0ib2.b[8][1]++,d(target,key))))||(cov_21zsgt0ib2.b[6][1]++,r);}else{cov_21zsgt0ib2.b[5][1]++;}}}cov_21zsgt0ib2.s[8]++;return(cov_21zsgt0ib2.b[9][0]++,c>3)&&(cov_21zsgt0ib2.b[9][1]++,r)&&(cov_21zsgt0ib2.b[9][2]++,Object.defineProperty(target,key,r)),r;}));var __metadata=(cov_21zsgt0ib2.s[9]++,(cov_21zsgt0ib2.b[10][0]++,this)&&(cov_21zsgt0ib2.b[10][1]++,this.__metadata)||(cov_21zsgt0ib2.b[10][2]++,function(k,v){cov_21zsgt0ib2.f[1]++;cov_21zsgt0ib2.s[10]++;if((cov_21zsgt0ib2.b[12][0]++,typeof Reflect==="object")&&(cov_21zsgt0ib2.b[12][1]++,typeof Reflect.metadata==="function")){cov_21zsgt0ib2.b[11][0]++;cov_21zsgt0ib2.s[11]++;return Reflect.metadata(k,v);}else{cov_21zsgt0ib2.b[11][1]++;}}));cov_21zsgt0ib2.s[12]++;Object.defineProperty(exports,"__esModule",{value:true});var core_1=(cov_21zsgt0ib2.s[13]++,__webpack_require__(1));var ng_socket_io_1=(cov_21zsgt0ib2.s[14]++,__webpack_require__(2));cov_21zsgt0ib2.s[15]++;__webpack_require__(3);cov_21zsgt0ib2.s[16]++;__webpack_require__(11);var ChatService=(cov_21zsgt0ib2.s[17]++,function(){cov_21zsgt0ib2.f[2]++;function ChatService(socket){cov_21zsgt0ib2.f[3]++;cov_21zsgt0ib2.s[18]++;this.socket=socket;}cov_21zsgt0ib2.s[19]++;ChatService.prototype.getMessages=function(){cov_21zsgt0ib2.f[4]++;cov_21zsgt0ib2.s[20]++;return this.socket.fromEvent('message').map(function(data){cov_21zsgt0ib2.f[5]++;var message=(cov_21zsgt0ib2.s[21]++,{user:data.user,text:data.msg});cov_21zsgt0ib2.s[22]++;return message;});};cov_21zsgt0ib2.s[23]++;ChatService.prototype.sendMessage=function(message){cov_21zsgt0ib2.f[6]++;cov_21zsgt0ib2.s[24]++;this.socket.emit('message',message);};cov_21zsgt0ib2.s[25]++;ChatService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[ng_socket_io_1.Socket])],ChatService);cov_21zsgt0ib2.s[26]++;return ChatService;}());cov_21zsgt0ib2.s[27]++;exports.ChatService=ChatService;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = require("@angular/core");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = require("ng-socket-io");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = require("rxjs/Rx");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./simple-chat.component.spec.ts": 5
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 4;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var testing_1 = __webpack_require__(8);
var simple_chat_component_1 = __webpack_require__(7);
var simple_chat_service_1 = __webpack_require__(0);
var chai_1 = __webpack_require__(10);
var forms_1 = __webpack_require__(9);
var ng_socket_io_1 = __webpack_require__(2);
var config = { url: 'http://localhost:4000', options: {} };
describe('SimpleChat', function () {
    var comp;
    var fixture;
    beforeEach(function () {
        testing_1.TestBed.configureTestingModule({
            declarations: [
                simple_chat_component_1.SimpleChat
            ],
            providers: [simple_chat_service_1.ChatService],
            imports: [
                forms_1.FormsModule,
                ng_socket_io_1.SocketIoModule.forRoot(config)
            ],
        });
        fixture = testing_1.TestBed.createComponent(simple_chat_component_1.SimpleChat);
        comp = fixture.componentInstance;
    });
    it('should exist object message with properties user and text', function () {
        comp.message = { user: 'Paco', text: 'Hello Ana' };
        chai_1.expect(comp.message).to.have.property('user').to.equal('Paco');
        chai_1.expect(comp.message).to.have.property('text').to.equal('Hello Ana');
    });
});


/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = "<div>\n  <input [(ngModel)]='message.user' placeholder=\"user\">\n  <div>\n    <div *ngFor='let msg of messages | async'>\n      <span>{{msg.user}}: {{msg.text}}</span>\n    </div>\n    <input [(ngModel)]='message.text' placeholder=\"text\">\n    <button (click)=\"sendMsg()\">Send</button>\n  </div>\n</div>\n";

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var cov_b9z478g20=function(){var path="/home/razorpack/develop/simple-chat/src/app/simple-chat.component.ts",hash="0d7d6da6fe41da63a02eefccec6a2e0fd1332486",global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/razorpack/develop/simple-chat/src/app/simple-chat.component.ts",statementMap:{"0":{start:{line:2,column:17},end:{line:7,column:1}},"1":{start:{line:3,column:12},end:{line:3,column:28}},"2":{start:{line:3,column:34},end:{line:3,column:125}},"3":{start:{line:4,column:4},end:{line:5,column:150}},"4":{start:{line:4,column:79},end:{line:4,column:131}},"5":{start:{line:5,column:9},end:{line:5,column:150}},"6":{start:{line:5,column:58},end:{line:5,column:150}},"7":{start:{line:5,column:81},end:{line:5,column:150}},"8":{start:{line:6,column:4},end:{line:6,column:66}},"9":{start:{line:8,column:17},end:{line:10,column:1}},"10":{start:{line:9,column:4},end:{line:9,column:109}},"11":{start:{line:9,column:79},end:{line:9,column:109}},"12":{start:{line:11,column:0},end:{line:11,column:62}},"13":{start:{line:12,column:13},end:{line:12,column:37}},"14":{start:{line:13,column:28},end:{line:13,column:60}},"15":{start:{line:14,column:0},end:{line:14,column:19}},"16":{start:{line:15,column:18},end:{line:36,column:3}},"17":{start:{line:17,column:8},end:{line:17,column:39}},"18":{start:{line:19,column:4},end:{line:24,column:6}},"19":{start:{line:20,column:20},end:{line:20,column:24}},"20":{start:{line:21,column:8},end:{line:23,column:82}},"21":{start:{line:23,column:45},end:{line:23,column:78}},"22":{start:{line:25,column:4},end:{line:27,column:6}},"23":{start:{line:26,column:8},end:{line:26,column:51}},"24":{start:{line:28,column:4},end:{line:34,column:19}},"25":{start:{line:35,column:4},end:{line:35,column:22}},"26":{start:{line:37,column:0},end:{line:37,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:46},end:{line:2,column:47}},loc:{start:{line:2,column:87},end:{line:7,column:1}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:46},end:{line:8,column:47}},loc:{start:{line:8,column:62},end:{line:10,column:1}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:15,column:18},end:{line:15,column:19}},loc:{start:{line:15,column:30},end:{line:36,column:1}},line:15},"3":{name:"SimpleChat",decl:{start:{line:16,column:13},end:{line:16,column:23}},loc:{start:{line:16,column:37},end:{line:18,column:5}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:19,column:36},end:{line:19,column:37}},loc:{start:{line:19,column:48},end:{line:24,column:5}},line:19},"5":{name:"(anonymous_5)",decl:{start:{line:23,column:23},end:{line:23,column:24}},loc:{start:{line:23,column:43},end:{line:23,column:80}},line:23},"6":{name:"(anonymous_6)",decl:{start:{line:25,column:35},end:{line:25,column:36}},loc:{start:{line:25,column:47},end:{line:27,column:5}},line:25}},branchMap:{"0":{loc:{start:{line:2,column:17},end:{line:7,column:1}},type:"binary-expr",locations:[{start:{line:2,column:18},end:{line:2,column:22}},{start:{line:2,column:26},end:{line:2,column:41}},{start:{line:2,column:46},end:{line:7,column:1}}],line:2},"1":{loc:{start:{line:3,column:34},end:{line:3,column:125}},type:"cond-expr",locations:[{start:{line:3,column:42},end:{line:3,column:48}},{start:{line:3,column:51},end:{line:3,column:125}}],line:3},"2":{loc:{start:{line:3,column:51},end:{line:3,column:125}},type:"cond-expr",locations:[{start:{line:3,column:67},end:{line:3,column:118}},{start:{line:3,column:121},end:{line:3,column:125}}],line:3},"3":{loc:{start:{line:4,column:4},end:{line:5,column:150}},type:"if",locations:[{start:{line:4,column:4},end:{line:5,column:150}},{start:{line:4,column:4},end:{line:5,column:150}}],line:4},"4":{loc:{start:{line:4,column:8},end:{line:4,column:77}},type:"binary-expr",locations:[{start:{line:4,column:8},end:{line:4,column:35}},{start:{line:4,column:39},end:{line:4,column:77}}],line:4},"5":{loc:{start:{line:5,column:58},end:{line:5,column:150}},type:"if",locations:[{start:{line:5,column:58},end:{line:5,column:150}},{start:{line:5,column:58},end:{line:5,column:150}}],line:5},"6":{loc:{start:{line:5,column:85},end:{line:5,column:149}},type:"binary-expr",locations:[{start:{line:5,column:86},end:{line:5,column:143}},{start:{line:5,column:148},end:{line:5,column:149}}],line:5},"7":{loc:{start:{line:5,column:86},end:{line:5,column:143}},type:"cond-expr",locations:[{start:{line:5,column:94},end:{line:5,column:98}},{start:{line:5,column:101},end:{line:5,column:143}}],line:5},"8":{loc:{start:{line:5,column:101},end:{line:5,column:143}},type:"cond-expr",locations:[{start:{line:5,column:109},end:{line:5,column:126}},{start:{line:5,column:129},end:{line:5,column:143}}],line:5},"9":{loc:{start:{line:6,column:11},end:{line:6,column:62}},type:"binary-expr",locations:[{start:{line:6,column:11},end:{line:6,column:16}},{start:{line:6,column:20},end:{line:6,column:21}},{start:{line:6,column:25},end:{line:6,column:62}}],line:6},"10":{loc:{start:{line:8,column:17},end:{line:10,column:1}},type:"binary-expr",locations:[{start:{line:8,column:18},end:{line:8,column:22}},{start:{line:8,column:26},end:{line:8,column:41}},{start:{line:8,column:46},end:{line:10,column:1}}],line:8},"11":{loc:{start:{line:9,column:4},end:{line:9,column:109}},type:"if",locations:[{start:{line:9,column:4},end:{line:9,column:109}},{start:{line:9,column:4},end:{line:9,column:109}}],line:9},"12":{loc:{start:{line:9,column:8},end:{line:9,column:77}},type:"binary-expr",locations:[{start:{line:9,column:8},end:{line:9,column:35}},{start:{line:9,column:39},end:{line:9,column:77}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0,0],"11":[0,0],"12":[0,0]},inputSourceMap:{version:3,file:"/home/razorpack/develop/simple-chat/src/app/simple-chat.component.ts",sourceRoot:"/home/razorpack/develop/simple-chat/",sources:["node_modules/angular2-template-loader/index.js!/home/razorpack/develop/simple-chat/src/app/simple-chat.component.ts"],names:[],mappings:";;;;;;;;;;;AAAA,sCAAkD;AAClD,6DAAoD;AAEpD,mBAAiB;AAMjB;IAIE,oBACU,WAAyB;QAAzB,gBAAW,GAAX,WAAW,CAAc;IACjC,CAAC;IAEH,6BAAQ,GAAR;QAAA,iBAIC;QAHC,IAAI,CAAC,WAAW;aACb,WAAW,EAAE;aACb,SAAS,CAAC,UAAA,QAAQ,IAAI,OAAA,KAAI,CAAC,QAAQ,GAAG,QAAQ,EAAxB,CAAwB,CAAC,CAAA;IACpD,CAAC;IAED,4BAAO,GAAP;QACE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAhBU,UAAU;QAJtB,gBAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,OAAO,CAAC,8BAA8B,CAAC;SAClD,CAAC;yCAMwB,iCAAW;OALxB,UAAU,CAiBtB;IAAD,iBAAC;CAAA,AAjBD,IAiBC;AAjBY,gCAAU",sourcesContent:["import { Component, OnInit } from '@angular/core';\nimport { ChatService } from './simple-chat.service';\n\nimport 'rxjs/Rx';\n\n@Component({\n  selector: 'simple-chat',\n  template: require('./simple-chat.component.html'),\n})\nexport class SimpleChat implements OnInit{\n  message: {user: string, text: string}\n  messages: Object;\n\n  constructor(\n    private chatService : ChatService\n  ){}\n\n  ngOnInit(): void {\n    this.chatService\n      .getMessages()\n      .subscribe(messages => this.messages = messages)\n  }\n\n  sendMsg() {\n    this.chatService.sendMessage(this.message);\n  }\n}\n"]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var __decorate=(cov_b9z478g20.s[0]++,(cov_b9z478g20.b[0][0]++,this)&&(cov_b9z478g20.b[0][1]++,this.__decorate)||(cov_b9z478g20.b[0][2]++,function(decorators,target,key,desc){cov_b9z478g20.f[0]++;var c=(cov_b9z478g20.s[1]++,arguments.length),r=(cov_b9z478g20.s[2]++,c<3?(cov_b9z478g20.b[1][0]++,target):(cov_b9z478g20.b[1][1]++,desc===null?(cov_b9z478g20.b[2][0]++,desc=Object.getOwnPropertyDescriptor(target,key)):(cov_b9z478g20.b[2][1]++,desc))),d;cov_b9z478g20.s[3]++;if((cov_b9z478g20.b[4][0]++,typeof Reflect==="object")&&(cov_b9z478g20.b[4][1]++,typeof Reflect.decorate==="function")){cov_b9z478g20.b[3][0]++;cov_b9z478g20.s[4]++;r=Reflect.decorate(decorators,target,key,desc);}else{cov_b9z478g20.b[3][1]++;cov_b9z478g20.s[5]++;for(var i=decorators.length-1;i>=0;i--){cov_b9z478g20.s[6]++;if(d=decorators[i]){cov_b9z478g20.b[5][0]++;cov_b9z478g20.s[7]++;r=(cov_b9z478g20.b[6][0]++,c<3?(cov_b9z478g20.b[7][0]++,d(r)):(cov_b9z478g20.b[7][1]++,c>3?(cov_b9z478g20.b[8][0]++,d(target,key,r)):(cov_b9z478g20.b[8][1]++,d(target,key))))||(cov_b9z478g20.b[6][1]++,r);}else{cov_b9z478g20.b[5][1]++;}}}cov_b9z478g20.s[8]++;return(cov_b9z478g20.b[9][0]++,c>3)&&(cov_b9z478g20.b[9][1]++,r)&&(cov_b9z478g20.b[9][2]++,Object.defineProperty(target,key,r)),r;}));var __metadata=(cov_b9z478g20.s[9]++,(cov_b9z478g20.b[10][0]++,this)&&(cov_b9z478g20.b[10][1]++,this.__metadata)||(cov_b9z478g20.b[10][2]++,function(k,v){cov_b9z478g20.f[1]++;cov_b9z478g20.s[10]++;if((cov_b9z478g20.b[12][0]++,typeof Reflect==="object")&&(cov_b9z478g20.b[12][1]++,typeof Reflect.metadata==="function")){cov_b9z478g20.b[11][0]++;cov_b9z478g20.s[11]++;return Reflect.metadata(k,v);}else{cov_b9z478g20.b[11][1]++;}}));cov_b9z478g20.s[12]++;Object.defineProperty(exports,"__esModule",{value:true});var core_1=(cov_b9z478g20.s[13]++,__webpack_require__(1));var simple_chat_service_1=(cov_b9z478g20.s[14]++,__webpack_require__(0));cov_b9z478g20.s[15]++;__webpack_require__(3);var SimpleChat=(cov_b9z478g20.s[16]++,function(){cov_b9z478g20.f[2]++;function SimpleChat(chatService){cov_b9z478g20.f[3]++;cov_b9z478g20.s[17]++;this.chatService=chatService;}cov_b9z478g20.s[18]++;SimpleChat.prototype.ngOnInit=function(){cov_b9z478g20.f[4]++;var _this=(cov_b9z478g20.s[19]++,this);cov_b9z478g20.s[20]++;this.chatService.getMessages().subscribe(function(messages){cov_b9z478g20.f[5]++;cov_b9z478g20.s[21]++;return _this.messages=messages;});};cov_b9z478g20.s[22]++;SimpleChat.prototype.sendMsg=function(){cov_b9z478g20.f[6]++;cov_b9z478g20.s[23]++;this.chatService.sendMessage(this.message);};cov_b9z478g20.s[24]++;SimpleChat=__decorate([core_1.Component({selector:'simple-chat',template:__webpack_require__(6)}),__metadata("design:paramtypes",[simple_chat_service_1.ChatService])],SimpleChat);cov_b9z478g20.s[25]++;return SimpleChat;}());cov_b9z478g20.s[26]++;exports.SimpleChat=SimpleChat;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = require("@angular/core/testing");

/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = require("@angular/forms");

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = require("chai");

/***/ }),
/* 11 */
/***/ (function(module, exports) {

module.exports = require("rxjs/add/operator/map");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {


    var testsContext = __webpack_require__(4);

    var runnable = testsContext.keys();

    runnable.forEach(testsContext);
    

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2svYm9vdHN0cmFwIDM2YzBhZTM4MTc4MGJiMjg0YjMwIiwiL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvc3JjL2FwcC9zaW1wbGUtY2hhdC5zZXJ2aWNlLnRzIiwiZXh0ZXJuYWwgXCJAYW5ndWxhci9jb3JlXCIiLCJleHRlcm5hbCBcIm5nLXNvY2tldC1pb1wiIiwiZXh0ZXJuYWwgXCJyeGpzL1J4XCIiLCIvaG9tZS9yYXpvcnBhY2svZGV2ZWxvcC9zaW1wbGUtY2hhdC9zcmMvdGVzdCBub25yZWN1cnNpdmUgW29iamVjdCBPYmplY3RdIiwiL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvc3JjL3Rlc3Qvc2ltcGxlLWNoYXQuY29tcG9uZW50LnNwZWMudHMiLCIvaG9tZS9yYXpvcnBhY2svZGV2ZWxvcC9zaW1wbGUtY2hhdC9zcmMvYXBwL3NpbXBsZS1jaGF0LmNvbXBvbmVudC5odG1sIiwiL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvc3JjL2FwcC9zaW1wbGUtY2hhdC5jb21wb25lbnQudHMiLCJleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmUvdGVzdGluZ1wiIiwiZXh0ZXJuYWwgXCJAYW5ndWxhci9mb3Jtc1wiIiwiZXh0ZXJuYWwgXCJjaGFpXCIiLCJleHRlcm5hbCBcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiIiwiL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvLnRtcC9tb2NoYS13ZWJwYWNrL2MzNTFkOTA3ZjhlY2NiOTE3ZmNhZTRmYTlkMjA1YTM3LWVudHJ5LmpzIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZCIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fbWV0YWRhdGEiLCJrIiwidiIsIm1ldGFkYXRhIiwiZXhwb3J0cyIsInZhbHVlIiwiY29yZV8xIiwicmVxdWlyZSIsIm5nX3NvY2tldF9pb18xIiwiQ2hhdFNlcnZpY2UiLCJzb2NrZXQiLCJwcm90b3R5cGUiLCJnZXRNZXNzYWdlcyIsImZyb21FdmVudCIsIm1hcCIsImRhdGEiLCJtZXNzYWdlIiwidXNlciIsInRleHQiLCJtc2ciLCJzZW5kTWVzc2FnZSIsImVtaXQiLCJJbmplY3RhYmxlIiwiU29ja2V0Iiwic2ltcGxlX2NoYXRfc2VydmljZV8xIiwiU2ltcGxlQ2hhdCIsImNoYXRTZXJ2aWNlIiwibmdPbkluaXQiLCJfdGhpcyIsInN1YnNjcmliZSIsIm1lc3NhZ2VzIiwic2VuZE1zZyIsIkNvbXBvbmVudCIsInNlbGVjdG9yIiwidGVtcGxhdGUiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7OztpbVBDL0RBLEdBQUlBLG1DQUFjLDJEQUFRLEtBQUtBLFVBQWIsQ0FBRCw0QkFBNkIsU0FBVUMsVUFBVixDQUFzQkMsTUFBdEIsQ0FBOEJDLEdBQTlCLENBQW1DQyxJQUFuQyxDQUF5Qyx1QkFDbkYsR0FBSUMsMEJBQUlDLFVBQVVDLE1BQWQsQ0FBSixDQUEwQkMseUJBQUlILEVBQUksQ0FBSiwyQkFBUUgsTUFB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S0YsV0FBTCxDQUNLZCxXQURMLEdBRUtpQixTQUZMLENBRWUsU0FBVUMsUUFBVixDQUFvQiw0Q0FBRSxNQUFPRixPQUFNRSxRQUFOLENBQWlCQSxRQUF4QixDQUFtQyxDQUZ4RSxFQUdILENBTEQsQ0FKMEIsc0JBVTFCTCxXQUFXZCxTQUFYLENBQXFCb0IsT0FBckIsQ0FBK0IsVUFBWSw0Q0FDdkMsS0FBS0wsV0FBTCxDQUFpQk4sV0FBakIsQ0FBNkIsS0FBS0osT0FBbEMsRUFDSCxDQUZELENBVjBCLHNCQWExQlMsV0FBYXpDLFdBQVcsQ0FDcEJzQixPQUFPMEIsU0FBUCxDQUFpQixDQUNiQyxTQUFVLGFBREcsQ0FFYkMsU0FBVSxtQkFBQTNCLENBQVEsQ0FBUixDQUZHLENBQWpCLENBRG9CLENBS3BCUCxXQUFXLG1CQUFYLENBQWdDLENBQUN3QixzQkFBc0JmLFdBQXZCLENBQWhDLENBTG9CLENBQVgsQ0FNVmdCLFVBTlUsQ0FBYixDQWIwQixzQkFvQjFCLE1BQU9BLFdBQVAsQ0FDSCxDQXJCaUIsRUFBZCxDQUFKLEMsc0JBc0JBckIsUUFBUXFCLFVBQVIsQ0FBcUJBLFVBQXJCLEM7Ozs7OztBQ3BDQSxrRDs7Ozs7O0FDQUEsMkM7Ozs7OztBQ0FBLGlDOzs7Ozs7QUNBQSxrRDs7Ozs7OztBQ0NBOztBQUVBOztBQUVBIiwiZmlsZSI6ImMzNTFkOTA3ZjhlY2NiOTE3ZmNhZTRmYTlkMjA1YTM3LW91dHB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzNmMwYWUzODE3ODBiYjI4NGIzMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29yZV8xID0gcmVxdWlyZShcIkBhbmd1bGFyL2NvcmVcIik7XHJcbnZhciBuZ19zb2NrZXRfaW9fMSA9IHJlcXVpcmUoXCJuZy1zb2NrZXQtaW9cIik7XHJcbnJlcXVpcmUoXCJyeGpzL1J4XCIpO1xyXG5yZXF1aXJlKFwicnhqcy9hZGQvb3BlcmF0b3IvbWFwXCIpO1xyXG52YXIgQ2hhdFNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2hhdFNlcnZpY2Uoc29ja2V0KSB7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XHJcbiAgICB9XHJcbiAgICBDaGF0U2VydmljZS5wcm90b3R5cGUuZ2V0TWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ja2V0XHJcbiAgICAgICAgICAgIC5mcm9tRXZlbnQoJ21lc3NhZ2UnKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogZGF0YS5tc2dcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFNlcnZpY2UucHJvdG90eXBlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFNlcnZpY2UgPSBfX2RlY29yYXRlKFtcclxuICAgICAgICBjb3JlXzEuSW5qZWN0YWJsZSgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbbmdfc29ja2V0X2lvXzEuU29ja2V0XSlcclxuICAgIF0sIENoYXRTZXJ2aWNlKTtcclxuICAgIHJldHVybiBDaGF0U2VydmljZTtcclxufSgpKTtcclxuZXhwb3J0cy5DaGF0U2VydmljZSA9IENoYXRTZXJ2aWNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvc3JjL2FwcC9zaW1wbGUtY2hhdC5zZXJ2aWNlLnRzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmVcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJuZy1zb2NrZXQtaW9cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJuZy1zb2NrZXQtaW9cIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL1J4XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicnhqcy9SeFwiXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtYXAgPSB7XG5cdFwiLi9zaW1wbGUtY2hhdC5jb21wb25lbnQuc3BlYy50c1wiOiA1XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHZhciBpZCA9IG1hcFtyZXFdO1xuXHRpZighKGlkICsgMSkpIC8vIGNoZWNrIGZvciBudW1iZXJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKTtcblx0cmV0dXJuIGlkO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSA0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL2hvbWUvcmF6b3JwYWNrL2RldmVsb3Avc2ltcGxlLWNoYXQvc3JjL3Rlc3Qgbm9ucmVjdXJzaXZlIG9iamVjdCBPYmplY3Rcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHsgQ29tcG9uZW50Rml4dHVyZSwgVGVzdEJlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XG5pbXBvcnQgeyBTaW1wbGVDaGF0IH0gZnJvbSAnLi4vYXBwL3NpbXBsZS1jaGF0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDaGF0U2VydmljZSB9IGZyb20gJy4uL2FwcC9zaW1wbGUtY2hhdC5zZXJ2aWNlJztcbmltcG9ydCB7IEJ5IH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gICBmcm9tICdAYW5ndWxhci9mb3JtcydcbmltcG9ydCB7IFNvY2tldElvTW9kdWxlLCBTb2NrZXRJb0NvbmZpZyB9IGZyb20gJ25nLXNvY2tldC1pbyc7XG5cbmNvbnN0IGNvbmZpZyA9IHsgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwJywgb3B0aW9uczoge30gfTtcblxuZGVzY3JpYmUoJ1NpbXBsZUNoYXQnLCAoKSA9PiB7XG4gIGxldCBjb21wOiBTaW1wbGVDaGF0O1xuICBsZXQgZml4dHVyZTogQ29tcG9uZW50Rml4dHVyZTxTaW1wbGVDaGF0PjtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgVGVzdEJlZC5jb25maWd1cmVUZXN0aW5nTW9kdWxlKHtcbiAgICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTaW1wbGVDaGF0XG4gICAgICBdLFxuICAgICAgcHJvdmlkZXJzOiBbIENoYXRTZXJ2aWNlIF0sXG4gICAgICBpbXBvcnRzOiBbXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBTb2NrZXRJb01vZHVsZS5mb3JSb290KGNvbmZpZylcbiAgICAgIF0sXG4gICAgfSlcblxuICAgIGZpeHR1cmUgPSBUZXN0QmVkLmNyZWF0ZUNvbXBvbmVudChTaW1wbGVDaGF0KTtcblxuICAgIGNvbXAgPSBmaXh0dXJlLmNvbXBvbmVudEluc3RhbmNlO1xuICB9KVxuXG4gIGl0KCdzaG91bGQgZXhpc3Qgb2JqZWN0IG1lc3NhZ2Ugd2l0aCBwcm9wZXJ0aWVzIHVzZXIgYW5kIHRleHQnLCAoKSA9PiB7XG4gICAgY29tcC5tZXNzYWdlID0geyB1c2VyOiAnUGFjbycsIHRleHQ6ICdIZWxsbyBBbmEnfVxuICAgIGV4cGVjdChjb21wLm1lc3NhZ2UpLnRvLmhhdmUucHJvcGVydHkoJ3VzZXInKS50by5lcXVhbCgnUGFjbycpO1xuICAgIGV4cGVjdChjb21wLm1lc3NhZ2UpLnRvLmhhdmUucHJvcGVydHkoJ3RleHQnKS50by5lcXVhbCgnSGVsbG8gQW5hJyk7XG4gIH0pO1xufSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvaG9tZS9yYXpvcnBhY2svZGV2ZWxvcC9zaW1wbGUtY2hhdC9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEvaG9tZS9yYXpvcnBhY2svZGV2ZWxvcC9zaW1wbGUtY2hhdC9zcmMvdGVzdC9zaW1wbGUtY2hhdC5jb21wb25lbnQuc3BlYy50cyIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2PlxcbiAgPGlucHV0IFsobmdNb2RlbCldPSdtZXNzYWdlLnVzZXInIHBsYWNlaG9sZGVyPVxcXCJ1c2VyXFxcIj5cXG4gIDxkaXY+XFxuICAgIDxkaXYgKm5nRm9yPSdsZXQgbXNnIG9mIG1lc3NhZ2VzIHwgYXN5bmMnPlxcbiAgICAgIDxzcGFuPnt7bXNnLnVzZXJ9fToge3ttc2cudGV4dH19PC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGlucHV0IFsobmdNb2RlbCldPSdtZXNzYWdlLnRleHQnIHBsYWNlaG9sZGVyPVxcXCJ0ZXh0XFxcIj5cXG4gICAgPGJ1dHRvbiAoY2xpY2spPVxcXCJzZW5kTXNnKClcXFwiPlNlbmQ8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9ob21lL3Jhem9ycGFjay9kZXZlbG9wL3NpbXBsZS1jaGF0L3NyYy9hcHAvc2ltcGxlLWNoYXQuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKTtcclxudmFyIHNpbXBsZV9jaGF0X3NlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL3NpbXBsZS1jaGF0LnNlcnZpY2VcIik7XHJcbnJlcXVpcmUoXCJyeGpzL1J4XCIpO1xyXG52YXIgU2ltcGxlQ2hhdCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaW1wbGVDaGF0KGNoYXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5jaGF0U2VydmljZSA9IGNoYXRTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgU2ltcGxlQ2hhdC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNoYXRTZXJ2aWNlXHJcbiAgICAgICAgICAgIC5nZXRNZXNzYWdlcygpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKG1lc3NhZ2VzKSB7IHJldHVybiBfdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzOyB9KTtcclxuICAgIH07XHJcbiAgICBTaW1wbGVDaGF0LnByb3RvdHlwZS5zZW5kTXNnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2hhdFNlcnZpY2Uuc2VuZE1lc3NhZ2UodGhpcy5tZXNzYWdlKTtcclxuICAgIH07XHJcbiAgICBTaW1wbGVDaGF0ID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnc2ltcGxlLWNoYXQnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9zaW1wbGUtY2hhdC5jb21wb25lbnQuaHRtbCcpLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbc2ltcGxlX2NoYXRfc2VydmljZV8xLkNoYXRTZXJ2aWNlXSlcclxuICAgIF0sIFNpbXBsZUNoYXQpO1xyXG4gICAgcmV0dXJuIFNpbXBsZUNoYXQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU2ltcGxlQ2hhdCA9IFNpbXBsZUNoYXQ7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAvaG9tZS9yYXpvcnBhY2svZGV2ZWxvcC9zaW1wbGUtY2hhdC9zcmMvYXBwL3NpbXBsZS1jaGF0LmNvbXBvbmVudC50cyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBhbmd1bGFyL2NvcmUvdGVzdGluZ1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmUvdGVzdGluZ1wiXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBhbmd1bGFyL2Zvcm1zXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvZm9ybXNcIlxuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjaGFpXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiY2hhaVwiXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIlxuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4gICAgdmFyIHRlc3RzQ29udGV4dCA9IHJlcXVpcmUuY29udGV4dChcIi4uLy4uL3NyYy90ZXN0XCIsIGZhbHNlKTtcblxuICAgIHZhciBydW5uYWJsZSA9IHRlc3RzQ29udGV4dC5rZXlzKCk7XG5cbiAgICBydW5uYWJsZS5mb3JFYWNoKHRlc3RzQ29udGV4dCk7XG4gICAgXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jMzUxZDkwN2Y4ZWNjYjkxN2ZjYWU0ZmE5ZDIwNWEzNy1lbnRyeS5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==